<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>MySQL on Ehlxr's Blog</title><link>https://3w.vercel.app/tags/MySQL/</link><description>Recent content in MySQL on Ehlxr's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Sat, 16 Jan 2021 22:12:07 +0800</lastBuildDate><atom:link href="https://3w.vercel.app/tags/MySQL/rss.xml" rel="self" type="application/rss+xml"/><item><title>MySQL InnoDB 事务隔离级别总结</title><link>https://3w.vercel.app/2021/01/16/mysql-innodb-tx-isolation/</link><pubDate>Sat, 16 Jan 2021 22:12:07 +0800</pubDate><guid>https://3w.vercel.app/2021/01/16/mysql-innodb-tx-isolation/</guid><description>&lt;h3 id="sql-事务隔离级别说明">SQL 事务隔离级别说明&lt;/h3>
&lt;p>SQL 标准定义了 4 类隔离级别，包括了一些具体规则，用来限定事务内外的哪些改变是可见的，哪些是不可见的。低级别的隔离级一般支持更高的并发处理，并拥有更低的系统开销。&lt;/p>
&lt;p>&lt;strong>Read Uncommitted（读取未提交内容）&lt;/strong>&lt;/p>
&lt;p>在该隔离级别，所有事务都可以看到其他未提交事务的执行结果。本隔离级别很少用于实际应用，因为它的性能也不比其他级别好多少。读取未提交的数据，也被称之为脏读（Dirty Read）。&lt;/p>
&lt;p>&lt;strong>Read Committed（读取提交内容）&lt;/strong>&lt;/p>
&lt;p>这是大多数数据库系统的默认隔离级别（但不是 MySQL 默认的）。它满足了隔离的简单定义：一个事务只能看见已经提交事务所做的改变。这种隔离级别 也支持所谓的不可重复读（Nonrepeatable Read），因为同一事务的其他实例在该实例处理其间可能会有新的 commit，所以同一 select 可能返回不同结果。&lt;/p>
&lt;p>&lt;strong>Repeatable Read（可重读）&lt;/strong>&lt;/p>
&lt;p>这是 MySQL 的默认事务隔离级别，它确保同一事务的多个实例在并发读取数据时，会看到同样的数据行。不过理论上，这会导致另一个棘手的问题：幻读 （Phantom Read），简单的说，幻读指当用户读取某一范围的数据行时，另一个事务又在该范围内插入了新行，当用户再读取该范围的数据行时，会发现有新的 &lt;code>“幻影”&lt;/code> 行。&lt;/p>
&lt;blockquote>
&lt;p>InnoDB 存储引擎通过 &lt;code>MVCC&lt;/code> 机制（快照读）和 &lt;code>next-key lock&lt;/code>（当前读）解决了该问题。&lt;/p>
&lt;/blockquote>
&lt;p>&lt;strong>Serializable（可串行化）&lt;/strong>&lt;/p>
&lt;p>这是最高的隔离级别，它通过强制事务排序，使之不可能相互冲突，从而解决幻读问题。简言之，它是在每个读的数据行上加上共享锁。在这个级别，可能导致大量的超时现象和锁竞争。&lt;/p></description></item><item><title>SQL 事务隔离</title><link>https://3w.vercel.app/2018/05/31/sql-transaction-isolation/</link><pubDate>Thu, 31 May 2018 13:55:26 +0000</pubDate><guid>https://3w.vercel.app/2018/05/31/sql-transaction-isolation/</guid><description>&lt;p>SQL 标准定义了 4 类隔离级别，包括了一些具体规则，用来限定事务内外的哪些改变是可见的，哪些是不可见的。低级别的隔离级一般支持更高的并发处理，并拥有更低的系统开销。&lt;/p>
&lt;h2 id="一sql-事务隔离级别说明">一、SQL 事务隔离级别说明&lt;/h2>
&lt;h3 id="11-read-uncommitted读取未提交内容">1.1 Read Uncommitted（读取未提交内容）&lt;/h3>
&lt;p>在该隔离级别，所有事务都可以看到其他未提交事务的执行结果。本隔离级别很少用于实际应用，因为它的性能也不比其他级别好多少。读取未提交的数据，也被称之为脏读（Dirty Read）。&lt;/p></description></item><item><title>Oracle 与 MySQL 知识总结</title><link>https://3w.vercel.app/2016/07/28/Oracle-%E4%B8%8E-MySQL-%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/</link><pubDate>Thu, 28 Jul 2016 14:06:36 +0000</pubDate><guid>https://3w.vercel.app/2016/07/28/Oracle-%E4%B8%8E-MySQL-%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/</guid><description>&lt;blockquote>
&lt;p>对日常工作中使用 Oracle 和 MySQL 数据库知识对比总结。&lt;/p>
&lt;/blockquote>
&lt;h1 id="sqlplus-连接数据库的方式">SQLPlus 连接数据库的方式&lt;/h1>
&lt;h2 id="cmd-中输入sqlplus-用户名密码数据库实例">cmd 中输入：sqlplus 用户名/密码@数据库实例&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:2;-o-tab-size:2;tab-size:2;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>sqlplus system/lxr316@oracle
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>sqlplus sys/admin as sysdba
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="打开-sqlplus-直接输入用户名和密码">打开 SQLPlus 直接输入用户名和密码&lt;/h2>
&lt;h2 id="使用命令">使用命令&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:2;-o-tab-size:2;tab-size:2;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>connect sys/admin as sysdba
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>connect system/lxr316
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>MySQL日期函数</title><link>https://3w.vercel.app/2016/07/20/MySQL%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0/</link><pubDate>Wed, 20 Jul 2016 14:16:17 +0000</pubDate><guid>https://3w.vercel.app/2016/07/20/MySQL%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0/</guid><description>&lt;h4 id="1-取得当天">1. 取得当天&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:2;-o-tab-size:2;tab-size:2;">&lt;code class="language-sql" data-lang="sql">&lt;span style="display:flex;">&lt;span>mysql&lt;span style="color:#666">&amp;gt;&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#007020;font-weight:bold">SELECT&lt;/span>&lt;span style="color:#bbb"> &lt;/span>curdate();&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb">&lt;/span>&lt;span style="color:#666">+&lt;/span>&lt;span style="color:#60a0b0;font-style:italic">------------+
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#60a0b0;font-style:italic">&lt;/span>&lt;span style="color:#666">|&lt;/span>&lt;span style="color:#bbb"> &lt;/span>curdate()&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#666">|&lt;/span>&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb">&lt;/span>&lt;span style="color:#666">+&lt;/span>&lt;span style="color:#60a0b0;font-style:italic">------------+
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#60a0b0;font-style:italic">&lt;/span>&lt;span style="color:#666">|&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#40a070">2013&lt;/span>&lt;span style="color:#666">-&lt;/span>&lt;span style="color:#40a070">07&lt;/span>&lt;span style="color:#666">-&lt;/span>&lt;span style="color:#40a070">29&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#666">|&lt;/span>&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb">&lt;/span>&lt;span style="color:#666">+&lt;/span>&lt;span style="color:#60a0b0;font-style:italic">------------+
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="2-取得当前日期">2. 取得当前日期&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:2;-o-tab-size:2;tab-size:2;">&lt;code class="language-sql" data-lang="sql">&lt;span style="display:flex;">&lt;span>mysql&lt;span style="color:#666">&amp;gt;&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#007020;font-weight:bold">select&lt;/span>&lt;span style="color:#bbb"> &lt;/span>sysdate();&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb">&lt;/span>&lt;span style="color:#666">+&lt;/span>&lt;span style="color:#60a0b0;font-style:italic">---------------------+
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#60a0b0;font-style:italic">&lt;/span>&lt;span style="color:#666">|&lt;/span>&lt;span style="color:#bbb"> &lt;/span>sysdate()&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#666">|&lt;/span>&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb">&lt;/span>&lt;span style="color:#666">+&lt;/span>&lt;span style="color:#60a0b0;font-style:italic">---------------------+
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#60a0b0;font-style:italic">&lt;/span>&lt;span style="color:#666">|&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#40a070">2016&lt;/span>&lt;span style="color:#666">-&lt;/span>&lt;span style="color:#40a070">05&lt;/span>&lt;span style="color:#666">-&lt;/span>&lt;span style="color:#40a070">30&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#40a070">13&lt;/span>:&lt;span style="color:#40a070">58&lt;/span>:&lt;span style="color:#40a070">17&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#666">|&lt;/span>&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb">&lt;/span>&lt;span style="color:#666">+&lt;/span>&lt;span style="color:#60a0b0;font-style:italic">---------------------+
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#60a0b0;font-style:italic">&lt;/span>&lt;span style="color:#40a070">1&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#007020;font-weight:bold">row&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#007020;font-weight:bold">in&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#007020;font-weight:bold">set&lt;/span>&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb">&lt;/span>mysql&lt;span style="color:#666">&amp;gt;&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#007020;font-weight:bold">select&lt;/span>&lt;span style="color:#bbb"> &lt;/span>now();&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb">&lt;/span>&lt;span style="color:#666">+&lt;/span>&lt;span style="color:#60a0b0;font-style:italic">---------------------+
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#60a0b0;font-style:italic">&lt;/span>&lt;span style="color:#666">|&lt;/span>&lt;span style="color:#bbb"> &lt;/span>now()&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#666">|&lt;/span>&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb">&lt;/span>&lt;span style="color:#666">+&lt;/span>&lt;span style="color:#60a0b0;font-style:italic">---------------------+
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#60a0b0;font-style:italic">&lt;/span>&lt;span style="color:#666">|&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#40a070">2016&lt;/span>&lt;span style="color:#666">-&lt;/span>&lt;span style="color:#40a070">05&lt;/span>&lt;span style="color:#666">-&lt;/span>&lt;span style="color:#40a070">30&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#40a070">13&lt;/span>:&lt;span style="color:#40a070">58&lt;/span>:&lt;span style="color:#40a070">29&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#666">|&lt;/span>&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#bbb">&lt;/span>&lt;span style="color:#666">+&lt;/span>&lt;span style="color:#60a0b0;font-style:italic">---------------------+
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#60a0b0;font-style:italic">&lt;/span>&lt;span style="color:#40a070">1&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#007020;font-weight:bold">row&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#007020;font-weight:bold">in&lt;/span>&lt;span style="color:#bbb"> &lt;/span>&lt;span style="color:#007020;font-weight:bold">set&lt;/span>&lt;span style="color:#bbb">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item></channel></rss>